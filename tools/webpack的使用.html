<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>uniapp开发问题记录 | 记录</title>
    <meta name="description" content="记路">
    <link rel="stylesheet" href="/assets/style.7ae511c0.css">
    <link rel="modulepreload" href="/assets/app.dbd27a4d.js">
    <link rel="modulepreload" href="/assets/tools_webpack的使用.md.74eb3557.lean.js">
    
    <meta name="twitter:title" content="uniapp开发问题记录 | 记录">
  <meta property="og:title" content="uniapp开发问题记录 | 记录">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="记录, back to home" data-v-675d8756 data-v-cc01ef16><!----> 记录</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/index" data-v-b8818f8c>🏠 首页 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/more/docs" data-v-b8818f8c>📅 归档 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/more/tags" data-v-b8818f8c>📂 分类 <!----></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-eab3edfe><!--[--><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/index" data-v-b8818f8c>🏠 首页 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/more/docs" data-v-b8818f8c>📅 归档 <!----></a></div></div><div class="item" data-v-eab3edfe><div class="nav-link" data-v-eab3edfe data-v-b8818f8c><a class="item" href="/more/tags" data-v-b8818f8c>📂 分类 <!----></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">HTML</p><!----></li><li class="sidebar-link"><p class="sidebar-link-item">CSS</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/css/css冷门记录">css常用样式</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">JavaScript</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/javascript/nodeJs">nodeJs的使用</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/vue/Vue.js设计与实现">Vue.js设计与实现读书笔记</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">工具</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/tools/element-ui不常规用法">element-ui自定义修改</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tools/git冷门记录">git的使用</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tools/RESTful风格">Restful</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tools/uniapp">uni-app问题记录</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tools/nginx的使用">nginx的使用</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/tools/linux常用命令">linux常用命令</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/tools/webpack的使用">webpack的使用</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#希望webpack命令简单一点（只输出一个webpack，它就知道去打包哪个文件-也知道在哪里输出），如何处理？">希望webpack命令简单一点（只输出一个webpack，它就知道去打包哪个文件,也知道在哪里输出），如何处理？</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#loader的使用过程">loader的使用过程</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#less文件处理">less文件处理</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#将es6转成es5-babel-loader">将ES6转成ES5 babel-loader</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#plugin是什么？">plugin是什么？</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#loader和plugin的区别">loader和plugin的区别</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#plugin的使用过程">plugin的使用过程</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#添加版权声明的plugin">添加版权声明的plugin</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#打包html的plugin">打包html的plugin</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#js压缩的plugin">js压缩的plugin</a><!----></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">其他</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/other/frontmatter">Restful</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><h1 id="webpack的作用" tabindex="-1">webpack的作用 <a class="header-anchor" href="#webpack的作用" aria-hidden="true">#</a></h1><p>webpack可以帮助我们处理模块间的依赖关系，而且不仅仅是Javascript文件，css，图片，json文件等等在webpack中都可以当作模块来使用 gulp也可以用来打包，与webpack的区别？</p><ul><li>gulp的核心是Task <ul><li>我们可以配置一系列的task，并且定义task要处理的事务(如ES6、ts转化，图片压缩，scss转成css)</li><li>之后让gulp来依次执行这些task，而且让整个流程自动化</li><li>所以gulp被称为前端自动化工具</li></ul></li><li>什么时候用gulp呢？ <ul><li>如果工程模块依赖非常简单，甚至没有模块化的概念</li><li>只需要进行简单的合并、压缩、就使用gulp即可</li><li>如果整个项目使用了模块化管理，而且相互依赖非常强，就可以使用更加强大的webpack了</li></ul></li><li>webpack与gulp的区别？ <ul><li>gulp更加强调的是前端流程自动化，模块化不是他的核心</li><li>webpack更加强调模块化开发管理，而文件压缩合并、预处理等功能是它附带的功能</li></ul></li></ul><h1 id="webpack安装" tabindex="-1">webpack安装 <a class="header-anchor" href="#webpack安装" aria-hidden="true">#</a></h1><ul><li>安装webpack需要安装Node.js, Node.js自带了软件包管理工具npm</li><li>npm install webpack -g 全局安装与局部安装。</li><li>局部安装webpack。 --save-dev是开发时依赖，项目打包后不需要继续使用。局部安装的在package.json中定义。</li><li>直接在终端执行webpack命令，使用的是全局安装的webpack</li></ul><div class="language-js line-numbers-mode"><pre><code>info<span class="token punctuation">.</span>js
<span class="token keyword">export</span> <span class="token keyword">const</span> name<span class="token operator">=</span><span class="token string">&#39;aaaa&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> height <span class="token operator">=</span> <span class="token number">1.78</span><span class="token punctuation">;</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
func<span class="token punctuation">.</span>js
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1<span class="token operator">+</span>num2<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
main<span class="token punctuation">.</span>js
<span class="token keyword">import</span> <span class="token punctuation">{</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">,</span> sum<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./info&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
main<span class="token punctuation">.</span>js是入口文件，webpack可以自动处理模块间的依赖
webpack  src<span class="token operator">/</span>main<span class="token punctuation">.</span>js   dist<span class="token operator">/</span>bundle<span class="token punctuation">.</span>js
在index<span class="token punctuation">.</span>html中导入bundle<span class="token punctuation">.</span>js即可
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="希望webpack命令简单一点（只输出一个webpack，它就知道去打包哪个文件-也知道在哪里输出），如何处理？" tabindex="-1">希望webpack命令简单一点（只输出一个webpack，它就知道去打包哪个文件,也知道在哪里输出），如何处理？ <a class="header-anchor" href="#希望webpack命令简单一点（只输出一个webpack，它就知道去打包哪个文件-也知道在哪里输出），如何处理？" aria-hidden="true">#</a></h2><p>修改webpack.config.js</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> path<span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>    <span class="token comment">//node语法</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">enrty</span><span class="token operator">:</span> <span class="token string">&#39;/src/main.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>_dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment">//动态获取绝对路径</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>npm init 会创建package.json文件 package.json中的scripts的脚本在执行时，会按照一定的顺序寻找命令对应的位置。</p><ul><li>首先，会寻找本地的node_modules/.bin路径中对应的命令</li><li>如果没有找到，会到全局变量中寻找</li></ul><h1 id="loader" tabindex="-1">loader <a class="header-anchor" href="#loader" aria-hidden="true">#</a></h1><p>loader是什么？</p><ul><li>webpack可以用来处理js代码，并自动化处理js之间相关的依赖</li><li>开发中不仅仅有js代码，也有css，图片，将es6转成es5，将ts转成js，将scss，less转成css，将jsx，.vue转成js文件等。对于webpack本身来说，这些转化是不支持的。那怎么办呢？给webpack扩展对应的loader就可以了。</li></ul><h3 id="loader的使用过程" tabindex="-1">loader的使用过程 <a class="header-anchor" href="#loader的使用过程" aria-hidden="true">#</a></h3><ol><li>使用npm安装需要使用的loader</li><li>在webpack.config.js中的module关键字下进行配置</li></ol><h4 id="使用css-loader" tabindex="-1">使用css-loader <a class="header-anchor" href="#使用css-loader" aria-hidden="true">#</a></h4><ol><li>安装 <code>npm install css-loader --save-dev</code></li><li>修改webpack.config.json</li></ol><div class="language-js line-numbers-mode"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>    <span class="token comment">//匹配所有的css文件</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span> <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="3"><li>css-loader只负责将css文件进行加载，还需要style-loader将样式添加到DOM中。use中的顺序不能错，webpack读取loader时是从右向左的顺序读取的。 <a href="https://blog.csdn.net/qq_37109325/article/details/80169289" target="_blank" rel="noopener noreferrer">为什么webpack加载loader是从右往左的</a></li></ol><h2 id="less文件处理" tabindex="-1">less文件处理 <a class="header-anchor" href="#less文件处理" aria-hidden="true">#</a></h2><p>使用less-loader</p><div class="language-js line-numbers-mode"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span> <span class="token comment">// creates style nodes from JS strings</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span> <span class="token comment">// translates CSS into CommonJS</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;less-loader&quot;</span> <span class="token comment">// compiles Less to CSS</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>###图片处理 使用url-loader</p><div class="language-"><pre><code>module.exports = {
  module: {
    rules: [
      {
        test: /\.(png|jpg|gif)$/,
        use: [
          {
            loader: &#39;url-loader&#39;,
            options: {
              limit: 8192,
//当加载的图片大小小于limit时，会将图片编译成base64的形式,
//当加载的图片大小大于limit时，需要使用file-loader模块进行加载
              name: &#39;/img/[name].[hash:8].[ext]&#39;
            }
          }
        ]
      }
    ]
  }
}
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>file-loader会把大于limit的图片压缩并使用hash改名后放到dist目录下，使用的时候需要配置一下webpack.config.js</p><div class="language-js line-numbers-mode"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;dist&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>默认情况下，webpack会将图片名称修改为一个32位的hash值，看起来不太方便，但是我们开发中可能对图片名称有要求，而且所有图片都放在dist目录下比较乱。 可以在options中添加以下选项：</p><ul><li>img: 图片要打包到的文件夹</li><li>name: 获取图片原来的名字放到该位置</li><li>hash:8 ： 防止图片名称冲突，依然使用hash，但是只保留8位</li><li>ext： 使用图片原来的扩展名</li></ul><h2 id="将es6转成es5-babel-loader" tabindex="-1">将ES6转成ES5 babel-loader <a class="header-anchor" href="#将es6转成es5-babel-loader" aria-hidden="true">#</a></h2><p><code>npm install --save-dev bable-loader babel-core bable-preset-es 2015</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">{node_modules|bower_components}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;es2015&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h1 id="webpack配置vue" tabindex="-1">webpack配置Vue <a class="header-anchor" href="#webpack配置vue" aria-hidden="true">#</a></h1><ol><li>Vue在运行时环境也要使用，所以不能只安装在开发环境中 <code>npm install vue --save</code> --save 运行时依赖 --save-dev 开发时依赖</li><li>webpack打包vue后的版本可能有两种</li></ol><ul><li>runtime-only--&gt;代码中不可以有任何的template</li><li>runtime-compiler --&gt; 代码中可以有template，因为有compiler可以用于编译template</li></ul><div class="language-js line-numbers-mode"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token string-property property">&#39;vue$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;vue/dist/vue.esm.js&#39;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
# <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
导入Vue时，会到node_modules下面的vue<span class="token operator">/</span>dist<span class="token operator">/</span>vue<span class="token punctuation">.</span>esm<span class="token punctuation">.</span>js里面找，使用这个编译出来是runtime<span class="token operator">-</span>complier的
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>template会覆盖el</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
 <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div id=&quot;app&quot;&gt;hello world&lt;div&gt;
</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如何使webpack能够识别vue文件？ <code>npm install vue-loader vue-template-compiler --save--dev</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="plugin" tabindex="-1">plugin <a class="header-anchor" href="#plugin" aria-hidden="true">#</a></h1><h2 id="plugin是什么？" tabindex="-1">plugin是什么？ <a class="header-anchor" href="#plugin是什么？" aria-hidden="true">#</a></h2><ul><li>插件，通常是用于对某个现有的架构进行扩展</li><li>webpack中的插件，就是对webpack现有功能的扩展，如打包优化，文件压缩等</li></ul><h2 id="loader和plugin的区别" tabindex="-1">loader和plugin的区别 <a class="header-anchor" href="#loader和plugin的区别" aria-hidden="true">#</a></h2><ul><li>loader主要用于转换某些类型，他是一个转换器</li><li>plugin是对webpack的扩展，它是一个扩展器</li></ul><h2 id="plugin的使用过程" tabindex="-1">plugin的使用过程 <a class="header-anchor" href="#plugin的使用过程" aria-hidden="true">#</a></h2><ol><li>通过npm安装需要使用的plugins</li><li>在webpack.config.js中的plugins中配置插件</li></ol><h2 id="添加版权声明的plugin" tabindex="-1">添加版权声明的plugin <a class="header-anchor" href="#添加版权声明的plugin" aria-hidden="true">#</a></h2><ul><li>BannerPlugin，webpack自带插件</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">&#39;最终解释权归本人&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="打包html的plugin" tabindex="-1">打包html的plugin <a class="header-anchor" href="#打包html的plugin" aria-hidden="true">#</a></h2><ul><li>src目录下有一个index.html文件，这是整个项目页面的入口，但是dist目录下没有这个文件，那么打包的js文件就失去了意义</li><li>所以需要将src下的index.html文件打包到dist文件夹中，可以使用<code>HtmlWebpackPlugin</code></li><li>HtmlWebpackPlugin可以做以下事： ·1. 自动生成一个index.html文件（可以指定模板来生成） 2. 将打包的js文件，自动通过script标签插入到body中</li><li>安装HtmlWebpackPlugin插件 <code>npm install html-webpack-plugin --save-dev</code></li><li>修改webpack.config.js</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> htmlwebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlwebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="js压缩的plugin" tabindex="-1">js压缩的plugin <a class="header-anchor" href="#js压缩的plugin" aria-hidden="true">#</a></h2><ul><li>项目发布前需要对js等文件进行压缩处理</li><li>使用<code>npm install uglifyjs-webpack-plugin --save-dev</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> uglifyJsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;uglifyjs-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">uglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>js丑化后版本声明也会删掉</p><h1 id="搭建本地服务器" tabindex="-1">搭建本地服务器 <a class="header-anchor" href="#搭建本地服务器" aria-hidden="true">#</a></h1><ul><li>webpack提供了一个可选的本地开发服务器，基于node.js搭建，内部使用express框架，可以实现让浏览器自动刷新显示我们修改后的结果。</li><li>安装<code>npm install webpack-dev-server --save-dev</code></li><li>devserver也是作为webpack中的一个选项，选项本身可以设置如下属性： ~ contentBase: 为哪一个文件夹提供服务，默认是跟文件夹，我们写./dist ~port：端口号 ~inline：页面实时刷新 ~historyApiFallback：在SPA页面中，依赖HTML5的history模式</li><li>配置</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>启动时增加一个参数(package.json中) <code>&quot;dev&quot;: &quot;webpack-dev-server --open&quot;</code></li></ul><h1 id="webpack配置分离" tabindex="-1">webpack配置分离 <a class="header-anchor" href="#webpack配置分离" aria-hidden="true">#</a></h1><p>webpack配置时，有的配置是开发是需要的，如dev-server,有的配置是编译时需要的，如uglyfyjs-plugin，这时候就需要将webpack进行分离</p><ul><li>base.config.js 开发和编译的公共配置</li><li>dev.config.js 开发时配置</li><li>prod.config.js 编译时配置 <code>npm install webpack-merge --save-dev</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">//dev.config.js</span>
<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./base.config&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在package.json中指定用哪个配置文件</p><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">scripts</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;build&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;webpack --config dev.config.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-07c132fc><div class="edit" data-v-07c132fc><div class="edit-link" data-v-07c132fc data-v-1ed99556><!----></div></div><div class="updated" data-v-07c132fc><p class="last-updated" data-v-07c132fc data-v-abce3432><span class="prefix" data-v-abce3432>Last Updated:</span><span class="datetime" data-v-abce3432></span></p></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/tools/linux常用命令" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>linux常用命令</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/other/frontmatter" data-v-38ede35f><span class="text" data-v-38ede35f>Restful</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"css_css冷门记录.md\":\"9938342b\",\"index.md\":\"94c52714\",\"javascript_nodejs.md\":\"1b9a5a95\",\"more_docs.md\":\"be427d39\",\"more_index.md\":\"4aa46389\",\"more_tags.md\":\"f90634bc\",\"tools_restful风格.md\":\"43745f91\",\"tools_canvas学习.md\":\"e783264d\",\"tools_element-ui不常规用法.md\":\"577eb22e\",\"tools_git冷门记录.md\":\"fd45268d\",\"tools_linux常用命令.md\":\"a915ff4a\",\"tools_nginx的使用.md\":\"b929f71c\",\"tools_uniapp.md\":\"52dc0137\",\"tools_webpack的使用.md\":\"74eb3557\",\"vue_vue.js设计与实现.md\":\"42e46a8e\"}")</script>
    <script type="module" async src="/assets/app.dbd27a4d.js"></script>
    
  </body>
</html>